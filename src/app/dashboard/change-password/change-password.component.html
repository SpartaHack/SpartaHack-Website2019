<div *ngIf="showing">
    <div class="row justify-content-center mb-4">
        <div class="col-10 col-md-8">
            <h3>Change Password</h3>
        </div>
    </div>
    <div class="row justify-content-center">
        <div class="col-10 col-md-8">
            <div class="card">
                <div class="card-body">
                    <div *ngIf="!finished">
                        <form #passwordForm="ngForm">
                            <div class="form-group">
                                <label for="current">Current Password</label>
                                <input type="password" class="form-control" id="current" maxlength="50"
                                    required [(ngModel)]="passwordFields.current_password" name="current" #current="ngModel"> 
                                <small *ngIf="!(current.valid || current.pristine)" class="form-text text-danger">Current Password is Required</small>
                            </div>
                            <div class="form-group">
                                <label for="password">New Password</label>
                                <input type="password" class="form-control" id="password" maxlength="30"
                                    required [(ngModel)]="passwordFields.password" name="password" #password="ngModel"> 
                                <small *ngIf="!(password.valid || password.pristine)" class="form-text text-danger">New Password is Required</small>
                            </div>
                            <div class="form-group">
                                <label for="new">Confirm Password</label>
                                <input type="password" class="form-control" id="new" maxlength="30"
                                    required [(ngModel)]="passwordFields.password_confirmation" name="new" #new="ngModel"> 
                                <small *ngIf="!(new.valid || new.pristine)" class="form-text text-danger">Confirmation is Required</small>
                            </div>
                            <button (click)="onClose()" class="btn btn-secondary mr-2">Cancel</button>
                            <button [disabled]="!passwordForm.valid" (click)="onSubmit()" class="btn btn-primary mr-2">Submit!</button>
                        </form>
                        <p class="text-danger mt-3" *ngIf="error != ''" [innerHTML]='error'></p>
                    </div>
                    <div *ngIf="finished">
                        <p class="login text-dark mt-3">Your password has been changed.</p>
                        <button (click)="onClose()" class="btn btn-primary mr-2">Back</button>
                    </div>
                </div>
            </div>
        </div>
    </div> 
</div>
